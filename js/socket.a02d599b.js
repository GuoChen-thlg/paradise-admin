(window.webpackJsonp=window.webpackJsonp||[]).push([["socket"],{"01d3":function(t,e,r){const n=r("c9eb"),o=r("d941");t.exports=function(t){var e=t.xdomain,r=t.xscheme;t=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||n))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!r&&t)return new XDomainRequest}catch(t){}if(!e)try{return new(o[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},"0299":function(t,e,r){"use strict";var n,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,i={},a=0,c=0;function u(t){for(var e="";e=o[t%s]+e,0<(t=Math.floor(t/s)););return e}function h(){var t=u(+new Date);return t!==n?(a=0,n=t):t+"."+u(a++)}for(;c<s;c++)i[o[c]]=c;h.encode=u,h.decode=function(t){var e=0;for(c=0;c<t.length;c++)e=e*s+i[t.charAt(c)];return e},t.exports=h},"072b":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.on=void 0,e.on=function(t,e,r){return t.on(e,r),function(){t.off(e,r)}}},"0882":function(t,e,r){(function(e){const n=r("19b7"),o=r("2a85"),s=r("4f2a"),i=r("0299"),{pick:a}=r("11ec"),{WebSocket:c,usingBrowserWebSocket:u,defaultBinaryType:h,nextTick:l}=r("5f4e"),p=r("34eb")("engine.io-client:websocket"),f="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class d extends n{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(this.check()){var t=this.uri(),e=this.opts.protocols;const r=f?{}:a(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=u&&!f?e?new c(t,e):new c(t):new c(t,e,r)}catch(t){return this.emit("error",t)}this.ws.binaryType=this.socket.binaryType||h,this.addEventListeners()}}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;o.encodePacket(n,this.supportsBinary,t=>{const r={};u||(n.options&&(r.compress=n.options.compress),this.opts.perMessageDeflate&&("string"==typeof t?e.byteLength(t):t.length)<this.opts.perMessageDeflate.threshold&&(r.compress=!1));try{u?this.ws.send(t):this.ws.send(t,r)}catch(t){p("websocket closed before onclose event")}s&&l(()=>{this.writable=!0,this.emit("drain")})})}}onClose(){n.prototype.onClose.call(this)}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};var e=this.opts.secure?"wss":"ws";let r="";return this.opts.port&&("wss"==e&&443!==Number(this.opts.port)||"ws"==e&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=i()),this.supportsBinary||(t.b64=1),t=s.encode(t),t.length&&(t="?"+t),e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+t}check(){return!(!c||"__initialize"in c&&this.name===d.prototype.name)}}t.exports=d}).call(this,r("b639").Buffer)},"0949":function(t,e,r){var n=r("19b7");const o=r("4f2a"),s=r("2a85"),i=r("0299"),a=r("34eb")("engine.io-client:polling");class c extends n{get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{a("paused"),this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(a("we are currently polling - waiting to pause"),t++,this.once("pollComplete",(function(){a("pre-pause polling complete"),--t||e()}))),this.writable||(a("we are currently writing - waiting to pause"),t++,this.once("drain",(function(){a("pre-pause writing complete"),--t||e()})))}else e()}poll(){a("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(t){a("polling got data %s",t),s.decodePayload(t,this.socket.binaryType).forEach(t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose(),!1;this.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():a('ignoring poll - transport state "%s"',this.readyState))}doClose(){var t=()=>{a("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(a("transport open - closing"),t()):(a("transport not open - deferring close"),this.once("open",t))}write(t){this.writable=!1,s.encodePayload(t,t=>{this.doWrite(t,()=>{this.writable=!0,this.emit("drain")})})}uri(){let t=this.query||{};var e=this.opts.secure?"https":"http";let r="";return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=i()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.opts.port&&("https"==e&&443!==Number(this.opts.port)||"http"==e&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),t.length&&(t="?"+t),e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+t}}t.exports=c},"0a5e":function(t,e,r){var n=r("0949");const o=r("d941"),s=/\n/g,i=/\\n/g;let a;class c extends n{constructor(t){super(t),this.query=this.query||{},a=a||(o.___eio=o.___eio||[]),this.index=a.length,a.push(this.onData.bind(this)),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=t=>{this.onError("jsonp poll error",t)};const e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(t,e):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)}doWrite(t,e){let r;if(!this.form){const t=document.createElement("form"),e=document.createElement("textarea");var n=this.iframeId="eio_iframe_"+this.index;t.className="socketio",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.target=n,t.method="POST",t.setAttribute("accept-charset","utf-8"),e.name="d",t.appendChild(e),document.body.appendChild(t),this.form=t,this.area=e}function o(){a(),e()}this.form.action=this.uri();const a=()=>{if(this.iframe)try{this.form.removeChild(this.iframe)}catch(t){this.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+this.iframeId+'">';r=document.createElement(t)}catch(t){r=document.createElement("iframe"),r.name=this.iframeId,r.src="javascript:0"}r.id=this.iframeId,this.form.appendChild(r),this.iframe=r};a(),t=t.replace(i,"\\\n"),this.area.value=t.replace(s,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=()=>{"complete"===this.iframe.readyState&&o()}:this.iframe.onload=o}}t.exports=c},"0b64":function(t,e){function r(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=0<t.jitter&&t.jitter<=1?t.jitter:0,this.attempts=0}(t.exports=r).prototype.duration=function(){var t,e,r=this.ms*Math.pow(this.factor,this.attempts++);return this.jitter&&(t=Math.random(),e=Math.floor(t*this.jitter*r),r=0==(1&Math.floor(10*t))?r-e:r+e),0|Math.min(r,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}},"0ccc":function(t,e,r){},"11ec":function(t,e){t.exports.pick=(t,...e)=>e.reduce((e,r)=>(t.hasOwnProperty(r)&&(e[r]=t[r]),e),{})},1468:function(t,e){var r=36e5,n=864e5;function o(t,e,r,n){return e=1.5*r<=e,Math.round(t/r)+" "+n+(e?"s":"")}t.exports=function(t,e){e=e||{};var s=typeof t;if("string"==s&&0<t.length)return function(t){if(!(100<(t=String(t)).length)&&(t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t),t)){var e=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*e;case"weeks":case"week":case"w":return 6048e5*e;case"days":case"day":case"d":return e*n;case"hours":case"hour":case"hrs":case"hr":case"h":return e*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*e;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:return}}}(t);if("number"==s&&isFinite(t))return(e.long?function(t){var e=Math.abs(t);return n<=e?o(t,e,n,"day"):r<=e?o(t,e,r,"hour"):6e4<=e?o(t,e,6e4,"minute"):1e3<=e?o(t,e,1e3,"second"):t+" ms"}:function(t){var e=Math.abs(t);return n<=e?Math.round(t/n)+"d":r<=e?Math.round(t/r)+"h":6e4<=e?Math.round(t/6e4)+"m":1e3<=e?Math.round(t/1e3)+"s":t+"ms"})(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},"19b7":function(t,e,r){const n=r("2a85");var o=r("7297");const s=r("34eb")("engine.io-client:transport");class i extends o{constructor(t){super(),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e){const r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState?this.write(t):s("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(t){t=n.decodePacket(t,this.socket.binaryType),this.onPacket(t)}onPacket(t){this.emit("packet",t)}onClose(){this.readyState="closed",this.emit("close")}}t.exports=i},"1fb5":function(t,e,r){"use strict";e.byteLength=function(t){var e=u(t);t=e[0],e=e[1];return 3*(t+e)/4-e},e.toByteArray=function(t){var e,r,n=u(t),i=n[0],a=(n=n[1],new s(function(t,e){return 3*(t+e)/4-e}(i,n))),c=0,h=0<n?i-4:i;for(r=0;r<h;r+=4)e=o[t.charCodeAt(r)]<<18|o[t.charCodeAt(r+1)]<<12|o[t.charCodeAt(r+2)]<<6|o[t.charCodeAt(r+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=255&e;return 2===n&&(e=o[t.charCodeAt(r)]<<2|o[t.charCodeAt(r+1)]>>4,a[c++]=255&e),1===n&&(e=o[t.charCodeAt(r)]<<10|o[t.charCodeAt(r+1)]<<4|o[t.charCodeAt(r+2)]>>2,a[c++]=e>>8&255,a[c++]=255&e),a},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,s=[],i=0,a=r-o;i<a;i+=16383)s.push(function(t,e,r){for(var o,s=[],i=e;i<r;i+=3)o=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),s.push(function(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}(o));return s.join("")}(t,i,a<i+16383?a:i+16383));return 1==o?(e=t[r-1],s.push(n[e>>2]+n[e<<4&63]+"==")):2==o&&(e=(t[r-2]<<8)+t[r-1],s.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),s.join("")};for(var n=[],o=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=i.length;a<c;++a)n[a]=i[a],o[i.charCodeAt(a)]=a;function u(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");return t=t.indexOf("="),[t=-1===t?e:t,t===e?0:4-t%4]}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},2858:function(t,e,r){const{PACKET_TYPES:n}=r("802d"),o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),s="function"==typeof ArrayBuffer,i=(t,e)=>{const r=new FileReader;return r.onload=function(){var t=r.result.split(",")[1];e("b"+t)},r.readAsDataURL(t)};t.exports=({type:t,data:e},r,a)=>{return o&&e instanceof Blob?r?a(e):i(e,a):s&&(e instanceof ArrayBuffer||(c=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(c):c&&c.buffer instanceof ArrayBuffer))?r?a(e instanceof ArrayBuffer?e:e.buffer):i(new Blob([e]),a):a(n[t]+(e||""));var c}},"2a85":function(t,e,r){const n=r("2858"),o=r("7cfd"),s=String.fromCharCode(30);t.exports={protocol:4,encodePacket:n,encodePayload:(t,e)=>{const r=t.length,o=new Array(r);let i=0;t.forEach((t,a)=>{n(t,!1,t=>{o[a]=t,++i===r&&e(o.join(s))})})},decodePacket:o,decodePayload:(t,e)=>{var r=t.split(s);const n=[];for(let s=0;s<r.length;s++){var i=o(r[s],e);if(n.push(i),"error"===i.type)break}return n}}},"34eb":function(t,e,r){(function(n){e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");let t=0,n=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(n=t))}),e.splice(n,0,r)}},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&void 0!==n&&"env"in n&&(t=Object({NODE_ENV:"production",VUE_APP_API:"https://www.fastmock.site/mock/daf4bf7d1a1ae8cbc92a8bea8bc08a41/paradise_admin/api/v1/",VUE_APP_PORT:"8080",VUE_APP_PUBLICKEY:"-----BEGIN PUBLIC KEY----- MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDFaRXou2EVM4JALOwdlIKKTcIk Xf5AFJ691+DE+dzmklFRoKS7o5ZVJB2TkmjodFqrmpR5Wx+uZAB7GnoS1kaGz5Kt WUdwRgM8J5TzgZUeXp2os6aILtSMcW0xv8MOHiP4jJy7EimukIIn3hdqI2B+iPIZ AZhOfjjv8vKUUn/FSQIDAQAB -----END PUBLIC KEY-----",VUE_APP_SOCKETURL:"https://dev.paradise-admin.thlg.ml:8001",BASE_URL:"/"}).DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(o){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=r("dc90")(e);const{formatters:o}=t.exports;o.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,r("4362"))},"3d54":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;const n=r("94ac"),o=r("7851"),s=r("8205"),i=r("072b"),a=r("0b64");var c=r("e13a");const u=r("34eb")("socket.io-client:manager");class h extends c.StrictEventEmitter{constructor(t,e){super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new a({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const r=e.parser||s;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null!==(e=this.backoff)&&void 0!==e&&e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null!==(e=this.backoff)&&void 0!==e&&e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null!==(e=this.backoff)&&void 0!==e&&e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(u("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=n(this.uri,this.opts);const e=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const o=i.on(e,"open",(function(){r.onopen(),t&&t()}));var s=i.on(e,"error",e=>{u("error"),r.cleanup(),r._readyState="closed",this.emitReserved("error",e),t?t(e):r.maybeReconnectOnOpen()});if(!1!==this._timeout){const t=this._timeout;u("connect attempt will timeout after %d",t),0===t&&o();const r=setTimeout(()=>{u("connect attempt timed out after %d",t),o(),e.close(),e.emit("error",new Error("timeout"))},t);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}return this.subs.push(o),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){u("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");var t=this.engine;this.subs.push(i.on(t,"ping",this.onping.bind(this)),i.on(t,"data",this.ondata.bind(this)),i.on(t,"error",this.onerror.bind(this)),i.on(t,"close",this.onclose.bind(this)),i.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){u("error",t),this.emitReserved("error",t)}socket(t,e){let r=this.nsps[t];return r||(r=new o.Socket(this,t,e),this.nsps[t]=r),r}_destroy(t){for(const e of Object.keys(this.nsps)){const t=this.nsps[e];if(t.active)return void u("socket %s is still active, skipping close",e)}this._close()}_packet(t){u("writing packet %j",t);var e=this.encoder.encode(t);for(let r=0;r<e.length;r++)this.engine.write(e[r],t.options)}cleanup(){u("cleanup"),this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){u("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t){u("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this._reconnecting=!0;const r=setTimeout(()=>{t.skipReconnect||(u("attempting reconnect"),this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open(e=>{e?(u("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):(u("reconnect success"),t.onreconnect())}))},e);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}onreconnect(){var t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}e.Manager=h},"4f2a":function(t,e){e.encode=function(t){var e,r="";for(e in t)t.hasOwnProperty(e)&&(r.length&&(r+="&"),r+=encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return r},e.decode=function(t){for(var e={},r=t.split("&"),n=0,o=r.length;n<o;n++){var s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}},5317:function(t,e){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),s=t.indexOf("]");-1!=o&&-1!=s&&(t=t.substring(0,o)+t.substring(o,s).replace(/:/g,";")+t.substring(s,t.length));for(var i,a=r.exec(t||""),c={},u=14;u--;)c[n[u]]=a[u]||"";return-1!=o&&-1!=s&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=function(t){var e=t.replace(/\/{2,9}/g,"/").split("/");return"/"!=t.substr(0,1)&&0!==t.length||e.splice(0,1),"/"==t.substr(t.length-1,1)&&e.splice(e.length-1,1),e}(c.path),c.queryKey=(e=c.query,i={},e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,r){e&&(i[e]=r)})),i),c}},"5f4e":function(t,e,r){var n=r("d941");r="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):t=>setTimeout(t,0);t.exports={WebSocket:n.WebSocket||n.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer",nextTick:r}},"6a44":function(t,e,r){const n=r("01d3"),o=r("d33e"),s=r("0a5e");r=r("0882"),e.polling=function(t){let e=!1,r=!1;var i=!1!==t.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol;let n=location.port;n=n||(a?443:80),e=t.hostname!==location.hostname||n!==t.port,r=t.secure!==a}if(t.xdomain=e,t.xscheme=r,"open"in new n(t)&&!t.forceJSONP)return new o(t);if(!i)throw new Error("JSONP disabled");return new s(t)},e.websocket=r},7297:function(t,e,r){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}(t.exports=n).prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<n.length;o++)if((r=n[o])===e||r.fn===e){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){n=0;for(var o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},7851:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;const n=r("8205"),o=r("072b");var s=r("e13a");const i=r("34eb")("socket.io-client:socket"),a=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class c extends s.StrictEventEmitter{constructor(t,e,r){super(),this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}subEvents(){var t;this.subs||(t=this.io,this.subs=[o.on(t,"open",this.onopen.bind(this)),o.on(t,"packet",this.onpacket.bind(this)),o.on(t,"error",this.onerror.bind(this)),o.on(t,"close",this.onclose.bind(this))])}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(a.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');e.unshift(t);const r={type:n.PacketType.EVENT,data:e,options:{}};return r.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(i("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),r.id=this.ids++),e=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,!this.flags.volatile||e&&this.connected?this.connected?this.packet(r):this.sendBuffer.push(r):i("discard packet as the transport is not currently writable"),this.flags={},this}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){i("transport is open - connecting"),"function"==typeof this.auth?this.auth(t=>{this.packet({type:n.PacketType.CONNECT,data:t})}):this.packet({type:n.PacketType.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t){i("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}onpacket(t){var e;if(t.nsp===this.nsp)switch(t.type){case n.PacketType.CONNECT:t.data&&t.data.sid?(e=t.data.sid,this.onconnect(e)):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case n.PacketType.EVENT:case n.PacketType.BINARY_EVENT:this.onevent(t);break;case n.PacketType.ACK:case n.PacketType.BINARY_ACK:this.onack(t);break;case n.PacketType.DISCONNECT:this.ondisconnect();break;case n.PacketType.CONNECT_ERROR:const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r)}}onevent(t){const e=t.data||[];i("emitting event %j",e),null!=t.id&&(i("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length)for(const e of this._anyListeners.slice())e.apply(this,t);super.emit.apply(this,t)}ack(t){const e=this;let r=!1;return function(...o){r||(r=!0,i("sending ack %j",o),e.packet({type:n.PacketType.ACK,id:t,data:o}))}}onack(t){const e=this.acks[t.id];"function"==typeof e?(i("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):i("bad ack %s",t.id)}onconnect(t){i("socket connected with id %s",t),this.id=t,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>this.packet(t)),this.sendBuffer=[]}ondisconnect(){i("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(i("performing disconnect (%s)",this.nsp),this.packet({type:n.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let r=0;r<e.length;r++)if(t===e[r])return e.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}e.Socket=c},"7cfd":function(t,e,r){const{PACKET_TYPES_REVERSE:n,ERROR_PACKET:o}=r("802d");var s="function"==typeof ArrayBuffer;let i;s&&(i=r("8390"));const a=(t,e)=>{if(i){var r=i.decode(t);return c(r,e)}return{base64:!0,data:t}},c=(t,e)=>"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t;t.exports=(t,e)=>{if("string"!=typeof t)return{type:"message",data:c(t,e)};var r=t.charAt(0);return"b"===r?{type:"message",data:a(t.substring(1),e)}:n[r]?1<t.length?{type:n[r],data:t.substring(1)}:{type:n[r]}:o}},"7fbc":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.url=void 0;const n=r("5317"),o=r("34eb")("socket.io-client:url");e.url=function(t,e="",r){let s=t;return r=r||"undefined"!=typeof location&&location,"string"==typeof(t=null==t?r.protocol+"//"+r.host:t)&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?r.protocol+t:r.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t=void 0!==r?r.protocol+"//"+t:"https://"+t),o("parse %s",t),s=n(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/",t=-1!==s.host.indexOf(":")?"["+s.host+"]":s.host,s.id=s.protocol+"://"+t+":"+s.port+e,s.href=s.protocol+"://"+t+(r&&r.port===s.port?"":":"+s.port),s}},"802d":function(t,e){const r=Object.create(null);r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";const n=Object.create(null);Object.keys(r).forEach(t=>{n[r[t]]=t}),t.exports={PACKET_TYPES:r,PACKET_TYPES_REVERSE:n,ERROR_PACKET:{type:"error",data:"parser error"}}},8205:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.Encoder=e.PacketType=e.protocol=void 0;var n,o=r("7297");const s=r("a8a8"),i=r("ca65"),a=r("34eb")("socket.io-parser");e.protocol=5,(r=n=e.PacketType||(e.PacketType={}))[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK",e.Encoder=class{encode(t){return a("encoding packet %j",t),t.type!==n.EVENT&&t.type!==n.ACK||!i.hasBinary(t)?[this.encodeAsString(t)]:(t.type=t.type===n.EVENT?n.BINARY_EVENT:n.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return t.type!==n.BINARY_EVENT&&t.type!==n.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),a("encoded %j as %s",t,e),e}encodeAsBinary(t){var e=s.deconstructPacket(t);t=this.encodeAsString(e.packet);const r=e.buffers;return r.unshift(t),r}};class c extends o{constructor(){super()}add(t){let e;if("string"==typeof t)e=this.decodeString(t),e.type===n.BINARY_EVENT||e.type===n.BINARY_ACK?(this.reconstructor=new u(e),0===e.attachments&&super.emit("decoded",e)):super.emit("decoded",e);else{if(!i.isBinary(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emit("decoded",e))}}decodeString(t){let e=0;const r={type:Number(t.charAt(0))};if(void 0===n[r.type])throw new Error("unknown packet type "+r.type);if(r.type===n.BINARY_EVENT||r.type===n.BINARY_ACK){for(var o=e+1;"-"!==t.charAt(++e)&&e!=t.length;);if(o=t.substring(o,e),o!=Number(o)||"-"!==t.charAt(e))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===t.charAt(e+1)){for(var s=e+1;++e;){if(","===t.charAt(e))break;if(e===t.length)break}r.nsp=t.substring(s,e)}else r.nsp="/";if(s=t.charAt(e+1),""!==s&&Number(s)==s){for(var i=e+1;++e;){var u=t.charAt(e);if(null==u||Number(u)!=u){--e;break}if(e===t.length)break}r.id=Number(t.substring(i,e+1))}if(t.charAt(++e)){if(i=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(e)),!c.isPayloadValid(r.type,i))throw new Error("invalid payload");r.data=i}return a("decoded %s as %j",t,r),r}static isPayloadValid(t,e){switch(t){case n.CONNECT:return"object"==typeof e;case n.DISCONNECT:return void 0===e;case n.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case n.EVENT:case n.BINARY_EVENT:return Array.isArray(e)&&0<e.length;case n.ACK:case n.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}e.Decoder=c;class u{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){return this.buffers.push(t),this.buffers.length!==this.reconPack.attachments?null:(t=s.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),t)}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},8390:function(t,e){!function(t){"use strict";e.encode=function(e){for(var r=new Uint8Array(e),n=r.length,o="",s=0;s<n;s+=3)o+=t[r[s]>>2],o+=t[(3&r[s])<<4|r[s+1]>>4],o+=t[(15&r[s+1])<<2|r[s+2]>>6],o+=t[63&r[s+2]];return n%3==2?o=o.substring(0,o.length-1)+"=":n%3==1&&(o=o.substring(0,o.length-2)+"=="),o},e.decode=function(e){var r,n,o,s,i=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);i=new ArrayBuffer(i);for(var u=new Uint8Array(i),h=0;h<a;h+=4)r=t.indexOf(e[h]),n=t.indexOf(e[h+1]),o=t.indexOf(e[h+2]),s=t.indexOf(e[h+3]),u[c++]=r<<2|n>>4,u[c++]=(15&n)<<4|o>>2,u[c++]=(3&o)<<6|63&s;return i}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},"8e27":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.io=e.Socket=e.Manager=e.protocol=void 0;const n=r("7fbc"),o=r("3d54"),s=r("34eb")("socket.io-client");t.exports=e=a;const i=e.managers={};function a(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r=n.url(t,e.path||"/socket.io"),a=r.source,c=r.id;t=r.path,t=i[c]&&t in i[c].nsps,t=e.forceNew||e["force new connection"]||!1===e.multiplex||t;let u;return u=t?(s("ignoring socket cache for %s",a),new o.Manager(a,e)):(i[c]||(s("new io instance for %s",a),i[c]=new o.Manager(a,e)),i[c]),r.query&&!e.query&&(e.query=r.queryKey),u.socket(r.path,e)}e.io=a;var c=r("8205");Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return c.protocol}}),e.connect=a;var u=r("3d54");Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return u.Manager}});var h=r("7851");Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return h.Socket}}),e.default=a},9152:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,o){var s,i,a=8*o-n-1,c=(1<<a)-1,u=c>>1,h=-7,l=r?o-1:0,p=r?-1:1;r=t[e+l];for(l+=p,s=r&(1<<-h)-1,r>>=-h,h+=a;0<h;s=256*s+t[e+l],l+=p,h-=8);for(i=s&(1<<-h)-1,s>>=-h,h+=n;0<h;i=256*i+t[e+l],l+=p,h-=8);if(0===s)s=1-u;else{if(s===c)return i?NaN:1/0*(r?-1:1);i+=Math.pow(2,n),s-=u}return(r?-1:1)*i*Math.pow(2,s-n)},e.write=function(t,e,r,n,o,s){var i,a,c=8*s-o-1,u=(1<<c)-1,h=u>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,f=n?1:-1;s=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,i=u):(i=Math.floor(Math.log(e)/Math.LN2),e*(n=Math.pow(2,-i))<1&&(i--,n*=2),2<=(e+=1<=i+h?l/n:l*Math.pow(2,1-h))*n&&(i++,n/=2),u<=i+h?(a=0,i=u):1<=i+h?(a=(e*n-1)*Math.pow(2,o),i+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,o),i=0));8<=o;t[r+p]=255&a,p+=f,a/=256,o-=8);for(i=i<<o|a,c+=o;0<c;t[r+p]=255&i,p+=f,i/=256,c-=8);t[r+p-f]|=128*s}},"94ac":function(t,e,r){const n=r("da92");t.exports=(t,e)=>new n(t,e),t.exports.Socket=n,t.exports.protocol=n.protocol,t.exports.Transport=r("19b7"),t.exports.transports=r("6a44"),t.exports.parser=r("2a85")},"94d0":function(t,e,r){"use strict";r.r(e);var n=r("8bbf"),o=Object(n.withScopeId)("data-v-5715a8bc");Object(n.pushScopeId)("data-v-5715a8bc");var s=Object(n.createVNode)("h1",null,"Socket",-1),i=Object(n.createTextVNode)(" 呼叫 "),a={class:"title"},c=Object(n.createVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[Object(n.createVNode)("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(n.createVNode)("path",{d:"m19.70322,16.23838l0,3.20278a0.86709,0.90576 0 0 1 -0.8064,0.90395c-0.37892,0.02717 -0.68847,0.04167 -0.92779,0.04167c-7.66249,0 -13.87347,-6.48798 -13.87347,-14.49221c0,-0.24999 0.01301,-0.57335 0.03989,-0.96917a0.86709,0.90576 0 0 1 0.86536,-0.84236l3.06604,0a0.43355,0.45288 0 0 1 0.43181,0.40759c0.01994,0.20833 0.03815,0.37408 0.05549,0.49998a12.05345,12.59101 0 0 0 1.04745,3.62396c0.08237,0.18115 0.02861,0.39763 -0.12746,0.51357l-1.87118,1.39669a11.31295,11.81749 0 0 0 5.93438,6.19904l1.33532,-1.95101a0.4006,0.41846 0 0 1 0.49684,-0.13496a12.05345,12.59101 0 0 0 3.46837,1.09144c0.12053,0.01812 0.2792,0.03804 0.4769,0.05797a0.43355,0.45288 0 0 1 0.38932,0.45107l-0.00087,0z",fill:"rgba(0,255,0,1)"})],-1),u=Object(n.createVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[Object(n.createVNode)("path",{fill:"none",transform:"rotate(-90 11.932886123657228,12.201342582702637)",d:"M0 0h24v24H0z"}),Object(n.createVNode)("path",{transform:"rotate(133 11.966941833496094,14.046981811523436)",d:"m19.77034,18.05046l0,3.20278a0.86709,0.90576 0 0 1 -0.8064,0.90395c-0.37892,0.02717 -0.68847,0.04167 -0.92779,0.04167c-7.66249,0 -13.87347,-6.48798 -13.87347,-14.49221c0,-0.24999 0.01301,-0.57335 0.03989,-0.96917a0.86709,0.90576 0 0 1 0.86536,-0.84236l3.06604,0a0.43355,0.45288 0 0 1 0.43181,0.40759c0.01994,0.20833 0.03815,0.37408 0.05549,0.49998a12.05345,12.59101 0 0 0 1.04745,3.62396c0.08237,0.18115 0.02861,0.39763 -0.12746,0.51357l-1.87118,1.39669a11.31295,11.81749 0 0 0 5.93438,6.19904l1.33532,-1.95101a0.4006,0.41846 0 0 1 0.49684,-0.13496a12.05345,12.59101 0 0 0 3.46837,1.09144c0.12053,0.01812 0.2792,0.03804 0.4769,0.05797a0.43355,0.45288 0 0 1 0.38932,0.45107l-0.00087,0z",fill:"rgba(255,0,0,1)"})],-1),h=Object(n.createTextVNode)("RingTone");Object(n.popScopeId)();var l=o((function(t,e,r,l,p,f){var d=Object(n.resolveComponent)("el-button"),g=Object(n.resolveComponent)("el-col"),m=Object(n.resolveComponent)("el-row"),y=Object(n.resolveComponent)("el-dialog"),b=Object(n.resolveComponent)("el-main"),v=Object(n.resolveDirective)("el-dialog-drag"),w=Object(n.resolveDirective)("el-dialog-drag-width");return Object(n.openBlock)(),Object(n.createBlock)(b,{class:"socket"},{default:o((function(){return[s,Object(n.createVNode)(m,{gutter:20},{default:o((function(){return[Object(n.createVNode)(g,{span:5},{default:o((function(){return[Object(n.createVNode)("ul",null,[(Object(n.openBlock)(!0),Object(n.createBlock)(n.Fragment,null,Object(n.renderList)(t.online_list,(function(e){return Object(n.openBlock)(),Object(n.createBlock)("li",{key:e.account,class:{communication:e.account!==t.account}},[Object(n.createVNode)("div",null,[Object(n.createTextVNode)(Object(n.toDisplayString)(e.account)+" ",1),e.account!==t.account?(Object(n.openBlock)(),Object(n.createBlock)(d,{key:0,size:"mini",onClick:function(r){return t.handleCall(e.account)}},{default:o((function(){return[i]})),_:2},1032,["onClick"])):Object(n.createCommentVNode)("",!0)])],2)})),128))])]})),_:1}),Object(n.createVNode)(g,{span:18})]})),_:1}),Object(n.createVNode)(y,{modelValue:t.video_show,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.video_show=e}),"close-on-click-modal":!1,modal:!1,"custom-class":"video-container-dialog"},{title:o((function(){return[Object(n.withDirectives)(Object(n.createVNode)("div",a," xxx 邀请你视频通话 ",512),[[v]])]})),default:o((function(){return[Object(n.withDirectives)(Object(n.createVNode)("div",{class:"video-container",onClick:e[1]||(e[1]=function(e){return t.self_minor=!t.self_minor})},[Object(n.createVNode)("video",{class:["remote_video",{"main-video":t.self_minor,"minor-video":!t.self_minor}],autoplay:"autoplay",ref:"remote_video"},null,2),Object(n.createVNode)("video",{class:["self_video",{"main-video":!t.self_minor,"minor-video":t.self_minor}],autoplay:"autoplay",ref:"self_video",muted:"muted"},null,2)],512),[[w]]),Object(n.createVNode)("div",{class:["but-operate",{calling:t.call_state}]},[Object(n.createVNode)(d,{circle:"",class:"answer"},{default:o((function(){return[c]})),_:1}),Object(n.createVNode)(d,{circle:"",class:"refuse",onClick:t.handleCloseVideoCall},{default:o((function(){return[u]})),_:1},8,["onClick"])],2)]})),_:1},8,["modelValue"]),Object(n.createVNode)(d,{onClick:t.handleRingTone},{default:o((function(){return[h]})),_:1},8,["onClick"])]})),_:1})})),p=r("5530"),f=r("1da1"),d=(r("96cf"),r("d3b7"),r("99af"),r("b0c0"),r("159b"),r("3ca3"),r("ddb0"),r("8e27")),g=r("be65"),m=r.n(g),y=r("6573"),b=r.n(y);g=Object(n.defineComponent)({name:"Socket",setup:function(){var t,e;(e=t=t||{})[e.Idle=0]="Idle",e[e.Call=1]="Call",e[e.ActiveCall=2]="ActiveCall",e[e.PassiveAnswer=3]="PassiveAnswer";var r=Object(n.reactive)({statu:t.Idle,video_show:!1,account:null,remote:null,online_list:[],local_media_stream:null,offer:null,self_minor:!0,call_state:!1}),o=Object(n.ref)(null),s=Object(n.ref)(null),i=null,a=Object(d.io)("https://dev.paradise-admin.thlg.ml:8001",{auth:{Authorization:m.a.get("authorization")||localStorage.getItem("authorization")}});function c(t){a.emit("webrtc-message",t)}function u(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).info.apply(t,["[".concat((new Date).toLocaleTimeString(),"]")].concat(r))}function h(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=console).trace.apply(t,["[".concat((new Date).toLocaleTimeString(),"]")].concat(r))}function l(t){switch(t.name){case"AbortError":u("出现异常，设备无法被使用"),b.a.error("出现异常，设备无法被使用");break;case"NotAllowedError":u("权限不足"),b.a.error("权限不足");break;case"NotFoundError":u("找不到满足请求参数的媒体类型"),b.a.error("找不到满足请求参数的媒体类型");break;case"NotReadableError":u("设备无法被访问"),b.a.error("设备无法被访问");break;case"OverConstrainedError":u("设备无法满足需求"),b.a.error("设备无法满足需求");break;case"SecurityError":u("媒体设备被禁止使用"),b.a.error("媒体设备被禁止使用");break;case"TypeError":u("constraints 未设置"),b.a.error("constraints 未设置");break;default:h(t)}h(t)}function g(t){u("初始化 RTC 实例 正在创建连接..."),i=new RTCPeerConnection({iceServers:[{urls:"stun:turn2.l.google.com"},{urls:"stun:stun.l.google.com:19302"},{urls:"stun:101.37.26.86:3478"},{urls:"turn:101.37.26.86:3478",username:"kurento",credential:"kurento666"}]}),t&&(i.onnegotiationneeded=y),i.onicecandidate=w,i.oniceconnectionstatechange=C,i.onicegatheringstatechange=_,i.onsignalingstatechange=E,i.ontrack=A}function y(){return v.apply(this,arguments)}function v(){return(v=Object(f.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u("创建 offer"),t.next=4,i.createOffer();case 4:if(e=t.sent,e=new RTCSessionDescription(e),"stable"!=i.signalingState)return t.abrupt("return");t.next=8;break;case 8:return t.next=10,i.setLocalDescription(e);case 10:u("向远端发送 offer"),c({account:r.remote,data:{type:"offer",sponsor:r.account,recipient:r.remote,offer:i.localDescription}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),h(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}function w(t){return k.apply(this,arguments)}function k(){return(k=Object(f.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.candidate?(u("候选人"+e.candidate.candidate),c({account:r.remote,data:{type:"new-ice-candidate",sponsor:r.account,recipient:r.remote,candidate:e.candidate}})):u("*** 收集完成");case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){switch(u("ICE 代理的状态变更"+(null===i||void 0===i?void 0:i.iceConnectionState)),i.iceConnectionState){case"closed":case"failed":S()}}function _(){u("检测 ICE 代理的状态",i.iceGatheringState)}function E(){"closed"===i.signalingState&&(u("信令状态变更 ----closed"),c({account:r.remote,data:{type:"hand-up",sponsor:r.account,recipient:r.remote}}),S())}function A(t){return T.apply(this,arguments)}function T(){return(T=Object(f.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("远端视频流",e.streams[0]),o.value&&(o.value.srcObject=e.streams[0]);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(){return(R=Object(f.a)(regeneratorRuntime.mark((function t(e){var n,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u("收到远端的邀请 没有实例 创建实例"),i||g(!1),u("收到 offer","设置远端描述"),n=new RTCSessionDescription(e),t.prev=4,"stable"!=i.signalingState)return t.next=8,Promise.all([i.setLocalDescription({type:"rollback"}),i.setRemoteDescription(n)]);t.next=11;break;case 8:return t.abrupt("return");case 11:return t.next=13,i.setRemoteDescription(n);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),h(t.t0);case 18:if(r.local_media_stream){t.next=28;break}return t.prev=19,t.next=22,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});case 22:r.local_media_stream=t.sent,t.next=28;break;case 25:t.prev=25,t.t1=t.catch(19),l(t.t1);case 28:s.value&&(s.value.srcObject=r.local_media_stream);try{u("将视频流添加到 peerConnection"),null!==(o=r.local_media_stream)&&void 0!==o&&o.getTracks().forEach((function(t){i.addTrack(t,r.local_media_stream)}))}catch(t){h(t)}return t.prev=30,u("创建 answer","设置本地描述"),t.next=34,i.createAnswer();case 34:return a=t.sent,a=new RTCSessionDescription(a),t.next=38,i.setLocalDescription(a);case 38:c({account:r.remote,data:{type:"answer",sponsor:r.account,recipient:r.remote,answer:i.localDescription}}),t.next=44;break;case 41:t.prev=41,t.t2=t.catch(30),h(t.t2);case 44:case"end":return t.stop()}}),t,null,[[4,15],[19,25],[30,41]])})))).apply(this,arguments)}function O(){return(O=Object(f.a)(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u("接收远端 answer"),r=new RTCSessionDescription(e),t.prev=2,t.next=5,i.setRemoteDescription(r);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),h(t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})))).apply(this,arguments)}function x(){return(x=Object(f.a)(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=2;break}return t.abrupt("return");case 2:return r=new RTCIceCandidate(e),u("添加收到的候选人"),t.prev=4,t.next=7,i.addIceCandidate(r);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),h(t.t0);case 12:case"end":return t.stop()}}),t,null,[[4,9]])})))).apply(this,arguments)}function S(){var t,e;u("正在关闭电话"),r.remote=null,r.call_state=!1,r.self_minor=!0,r.video_show=!1,i&&(i.onicecandidate=null,i.oniceconnectionstatechange=null,i.onicegatheringstatechange=null,i.onsignalingstatechange=null,i.onnegotiationneeded=null,i.ontrack=null,i.getTransceivers().forEach((function(t){t.stop()})),null!==(t=s.value)&&void 0!==t&&t.srcObject&&(s.value.pause(),null!==(e=s.value.srcObject)&&void 0!==e&&e.getTracks().forEach((function(t){t.stop()}))),null!==(e=o.value)&&void 0!==e&&e.srcObject&&(o.value.pause(),null!==(e=o.value.srcObject)&&void 0!==e&&e.getTracks().forEach((function(t){t.stop()}))),i.close(),i=null,r.local_media_stream=null)}function P(){return(P=Object(f.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i)return alert("已经在打电话了"),t.abrupt("return");t.next=3;break;case 3:if(r.remote=e,r.remote===r.account)return alert("不能和自己打电话"),t.abrupt("return");t.next=7;break;case 7:return g(!0),r.call_state=!0,r.video_show=!0,t.prev=10,u("获取本地视频流"),t.next=14,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});case 14:r.local_media_stream=t.sent,s.value&&(s.value.srcObject=r.local_media_stream),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(10),l(t.t0.name);case 21:try{console.log("将视频流添加到 peerConnection"),null!==(n=r.local_media_stream)&&void 0!==n&&n.getTracks().forEach((function(t){i.addTrack(t,r.local_media_stream)}))}catch(t){h(t)}case 22:case"end":return t.stop()}}),t,null,[[10,18]])})))).apply(this,arguments)}function B(){u("对方结束通话"),S()}return a.on("connect",(function(){u("正在加入房间 连接成功")})),a.on("webrtc-message",function(){var t=Object(f.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.type,t.next="offer"===t.t0?3:"answer"===t.t0?14:"new-ice-candidate"===t.t0?16:"hand-up"===t.t0?18:"refuse"===t.t0?20:"busy"===t.t0?23:25;break;case 3:return r.remote=e.sponsor,r.video_show=!0,t.prev=5,t.next=8,new Promise((function(t,o){var s=setTimeout((function(){o(),r.video_show=!1}),3e4);Object(n.nextTick)((function(){function n(){r.call_state=!0,t(),clearTimeout(s),function(){R.apply(this,arguments)}(e.offer),o.removeEventListener("click",n)}var o=document.querySelector("button.el-button.answer");o.addEventListener("click",n)}))}));case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(5),h(t.t1);case 13:return t.abrupt("break",28);case 14:return function(){O.apply(this,arguments)}(e.answer),t.abrupt("break",28);case 16:return function(){x.apply(this,arguments)}(e.candidate),t.abrupt("break",28);case 18:return B(),t.abrupt("break",28);case 20:return u("对方拒绝了您的电话"),B(),t.abrupt("break",28);case 23:return u("对方忙碌中..."),t.abrupt("break",28);case 25:return u("未知的消息"),u(e),t.abrupt("break",28);case 28:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e){return t.apply(this,arguments)}}()),a.on("online",(function(t){r.account=t.account,b.a.success("".concat(t.account," 加入 "))})),a.on("online_list",(function(t){u(r.online_list=t)})),a.on("connect_error",(function(t){/Authorization/.test(t.message)&&b.a.error(t.message),u(t)})),Object(n.onUnmounted)((function(){S(),a.emit("offline"),a.close()})),Object(p.a)(Object(p.a)({},Object(n.toRefs)(r)),{},{self_video:s,remote_video:o,handleCall:function(t){return P.apply(this,arguments)},handleCloseVideoCall:S,handleRingTone:function(){var t=new AudioContext,e=t.createOscillator(),r=t.createGain();e.connect(r),r.connect(t.destination),e.type="sine",e.frequency.value=1650,r.gain.setValueAtTime(0,t.currentTime),r.gain.linearRampToValueAtTime(1,t.currentTime+.01),e.start(t.currentTime),r.gain.exponentialRampToValueAtTime(.001,t.currentTime+1),e.stop(t.currentTime+1)}})}}),r("9db4"),y=r("6b0d"),y=r.n(y);e.default=y()(g,[["render",l],["__scopeId","data-v-5715a8bc"]])},"9db4":function(t,e,r){"use strict";r("0ccc")},a8a8:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reconstructPacket=e.deconstructPacket=void 0;const n=r("ca65");e.deconstructPacket=function(t){var e=[],r=t.data;const o=t;return o.data=function t(e,r){if(!e)return e;if(n.isBinary(e)){const t={_placeholder:!0,num:r.length};return r.push(e),t}if(Array.isArray(e)){const n=new Array(e.length);for(let o=0;o<e.length;o++)n[o]=t(e[o],r);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const o in e)e.hasOwnProperty(o)&&(n[o]=t(e[o],r));return n}return e}(r,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,r){if(!e)return e;if(e&&e._placeholder)return r[e.num];if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=t(e[n],r);else if("object"==typeof e)for(const n in e)e.hasOwnProperty(n)&&(e[n]=t(e[n],r));return e}(t.data,e),t.attachments=void 0,t}},b639:function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r("1fb5"),o=r("9152"),s=r("e3db");function i(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(t=null===t?new c(e):t).length=e,t}function c(t,e,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,r);if("number"!=typeof t)return u(this,t,e,r);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}function u(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=p(t,e),t}(t,e,r,n):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r);r=(t=a(t,n)).write(e,r);return r!==n&&(t=t.slice(0,r)),t}(t,e,r):function(t,e){if(c.isBuffer(e)){var r=0|f(e.length);return 0===(t=a(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):p(t,e);if("Buffer"===e.type&&s(e.data))return p(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(h(e),t=a(t,e<0?0:0|f(e)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function p(t,e){var r=e.length<0?0:0|f(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function f(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var r=(t="string"!=typeof t?""+t:t).length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return P(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(t).length;default:if(n)return P(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,r){var o,s,i,a=!1;if((e=void 0===e||e<0?0:e)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return function(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||n<r)&&(r=n);for(var o="",s=e;s<r;++s)o+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[s]);return o}(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return function(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}(this,e,r);case"latin1":case"binary":return function(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}(this,e,r);case"base64":return o=this,i=r,0===(s=e)&&i===o.length?n.fromByteArray(o):n.fromByteArray(o.slice(s,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,r){for(var n=t.slice(e,r),o="",s=0;s<n.length;s+=2)o+=String.fromCharCode(n[s]+256*n[s+1]);return o}(this,e,r);default:if(a)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),a=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,(r=(r=isNaN(r)?o?0:t.length-1:r)<0?t.length+r:r)>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,o);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,r):b(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,o){var s=1,i=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;i/=s=2,a/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o)for(var u=-1,h=r;h<i;h++)if(c(t,h)===c(e,-1===u?0:h-u)){if(h-(u=-1===u?h:u)+1===a)return u*s}else-1!==u&&(h-=h-u),u=-1;else for(h=r=i<r+a?i-a:r;0<=h;h--){for(var l=!0,p=0;p<a;p++)if(c(t,h+p)!==c(e,p)){l=!1;break}if(l)return h}return-1}function v(t,e,r,n){return j(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return j(function(t,e){for(var r,n,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,n%=256,o.push(n),o.push(r);return o}(e,t.length-r),t,r,n)}function k(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var s,i,a,c,u=t[o],h=null,l=239<u?4:223<u?3:191<u?2:1;if(o+l<=r)switch(l){case 1:u<128&&(h=u);break;case 2:128==(192&(s=t[o+1]))&&127<(c=(31&u)<<6|63&s)&&(h=c);break;case 3:s=t[o+1],i=t[o+2],128==(192&s)&&128==(192&i)&&2047<(c=(15&u)<<12|(63&s)<<6|63&i)&&(c<55296||57343<c)&&(h=c);break;case 4:s=t[o+1],i=t[o+2],a=t[o+3],128==(192&s)&&128==(192&i)&&128==(192&a)&&65535<(c=(15&u)<<18|(63&s)<<12|(63&i)<<6|63&a)&&c<1114112&&(h=c)}null===h?(h=65533,l=1):65535<h&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),o+=l}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=C));return r}(n)}e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=i(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,r){return u(null,t,e,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,r){return n=null,e=e,r=r,h(t=t),t<=0||void 0===e?a(n,t):"string"==typeof r?a(n,t).fill(e,r):a(n,t).fill(e);var n},c.allocUnsafe=function(t){return l(null,t)},c.allocUnsafeSlow=function(t){return l(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,s=Math.min(r,n);o<s;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);if(void 0===e)for(o=e=0;o<t.length;++o)e+=t[o].length;for(var r=c.allocUnsafe(e),n=0,o=0;o<t.length;++o){var i=t[o];if(!c.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,n),n+=i.length}return r},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?k(this,0,t):g.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,r,n,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),(e=void 0===e?0:e)<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(o<=n&&r<=e)return 0;if(o<=n)return-1;if(r<=e)return 1;if(this===t)return 0;for(var s=(o>>>=0)-(n>>>=0),i=(r>>>=0)-(e>>>=0),a=Math.min(s,i),u=this.slice(n,o),h=t.slice(e,r),l=0;l<a;++l)if(u[l]!==h[l]){s=u[l],i=h[l];break}return s<i?-1:i<s?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||o<r)&&(r=o),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var s,i,a,c=!1;;)switch(n){case"hex":return function(t,e,r,n){r=Number(r)||0;var o=t.length-r;if((!n||o<(n=Number(n)))&&(n=o),(o=e.length)%2!=0)throw new TypeError("Invalid hex string");o/2<n&&(n=o/2);for(var s=0;s<n;++s){var i=parseInt(e.substr(2*s,2),16);if(isNaN(i))return s;t[r+s]=i}return s}(this,t,e,r);case"utf8":case"utf-8":return i=e,a=r,j(P(t,(s=this).length-i),s,i,a);case"ascii":return v(this,t,e,r);case"latin1":case"binary":return v(this,t,e,r);case"base64":return s=this,i=e,a=r,j(B(t),s,i,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,r);default:if(c)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),c=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function _(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(r<t+e)throw new RangeError("Trying to access beyond buffer length")}function E(t,e,r,n,o,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<e||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function A(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,s=Math.min(t.length-r,2);o<s;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function T(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,s=Math.min(t.length-r,4);o<s;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function R(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function O(t,e,r,n,s){return s||R(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function x(t,e,r,n,s){return s||R(t,0,r,8),o.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){var r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(o=this.subarray(t,e)).__proto__=c.prototype;else for(var n=e-t,o=new c(n,void 0),s=0;s<n;++s)o[s]=this[s+t];return o},c.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||_(t,e,this.length);for(var n=this[t],o=1,s=0;++s<e&&(o*=256);)n+=this[t+s]*o;return n},c.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||_(t,e,this.length);for(var n=this[t+--e],o=1;0<e&&(o*=256);)n+=this[t+--e]*o;return n},c.prototype.readUInt8=function(t,e){return e||_(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||_(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||_(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||_(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||_(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||_(t,e,this.length);for(var n=this[t],o=1,s=0;++s<e&&(o*=256);)n+=this[t+s]*o;return(o*=128)<=n&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||_(t,e,this.length);for(var n=e,o=1,s=this[t+--n];0<n&&(o*=256);)s+=this[t+--n]*o;return(o*=128)<=s&&(s-=Math.pow(2,8*e)),s},c.prototype.readInt8=function(t,e){return e||_(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){return e||_(t,2,this.length),t=this[t]|this[t+1]<<8,32768&t?4294901760|t:t},c.prototype.readInt16BE=function(t,e){return e||_(t,2,this.length),t=this[t+1]|this[t]<<8,32768&t?4294901760|t:t},c.prototype.readInt32LE=function(t,e){return e||_(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||_(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||_(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||_(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||_(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||_(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||E(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,s=0;for(this[e]=255&t;++s<r&&(o*=256);)this[e+s]=t/o&255;return e+r},c.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||E(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,s=1;for(this[e+o]=255&t;0<=--o&&(s*=256);)this[e+o]=t/s&255;return e+r},c.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||E(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||E(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||E(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||E(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):T(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||E(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):T(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,r,n){t=+t,e|=0,n||E(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var o=0,s=1,i=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===i&&0!==this[e+o-1]&&(i=1),this[e+o]=(t/s>>0)-i&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){t=+t,e|=0,n||E(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var o=r-1,s=1,i=0;for(this[e+o]=255&t;0<=--o&&(s*=256);)t<0&&0===i&&0!==this[e+o+1]&&(i=1),this[e+o]=(t/s>>0)-i&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||E(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&(t=t<0?255+t+1:t),e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||E(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):A(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||E(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):A(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||E(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):T(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||E(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):T(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,r){return O(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return O(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return x(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return x(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(r=r||0,n||0===n||(n=this.length),e>=t.length&&(e=t.length),(n=0<n&&n<r?r:n)===r)return 0;if(0===t.length||0===this.length)return 0;if((e=e||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var o,s=(n=t.length-e<n-r?t.length-e+r:n)-r;if(this===t&&r<e&&e<n)for(o=s-1;0<=o;--o)t[o+e]=this[o+r];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){var o;if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1!==t.length||(o=t.charCodeAt(0))<256&&(t=o),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(t=t||0))for(a=e;a<r;++a)this[a]=t;else for(var s=c.isBuffer(t)?t:P(new c(t,n).toString()),i=s.length,a=0;a<r-e;++a)this[a+e]=s[a%i];return this};var S=/[^+\/0-9A-Za-z-_]/g;function P(t,e){var r;e=e||1/0;for(var n=t.length,o=null,s=[],i=0;i<n;++i){if(55295<(r=t.charCodeAt(i))&&r<57344){if(!o){if(56319<r){-1<(e-=3)&&s.push(239,191,189);continue}if(i+1===n){-1<(e-=3)&&s.push(239,191,189);continue}o=r;continue}if(r<56320){-1<(e-=3)&&s.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&-1<(e-=3)&&s.push(239,191,189);if(o=null,r<128){if(--e<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function B(t){return n.toByteArray(function(t){var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(S,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}}).call(this,r("c8ba"))},c9eb:function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},ca65:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasBinary=e.isBinary=void 0;const n="function"==typeof ArrayBuffer,o=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,s=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);function c(t){return n&&(t instanceof ArrayBuffer||o(t))||i&&t instanceof Blob||a&&t instanceof File}e.isBinary=c,e.hasBinary=function t(e,r){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(t(e[r]))return!0;return!1}if(c(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return!0;return!1}},d33e:function(t,e,r){const n=r("01d3");var o=r("0949"),s=r("7297");const{pick:i}=r("11ec");var a=r("d941");const c=r("34eb")("engine.io-client:polling-xhr");function u(){}const h=null!=new n({xdomain:!1}).responseType;class l extends o{constructor(t){if(super(t),"undefined"!=typeof location){var e="https:"===location.protocol;let r=location.port;r=r||(e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||r!==t.port,this.xs=t.secure!==e}t=t&&t.forceBase64,this.supportsBinary=h&&!t}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new p(this.uri(),t)}doWrite(t,e){const r=this.request({method:"POST",data:t});r.on("success",e),r.on("error",t=>{this.onError("xhr post error",t)})}doPoll(){c("xhr poll");const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",t=>{this.onError("xhr poll error",t)}),this.pollXhr=t}}class p extends s{constructor(t,e){super(),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const t=i(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new n(t);try{c("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var r in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&e.setRequestHeader(r,this.opts.extraHeaders[r])}catch(t){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),this.hasXDR()?(e.onload=()=>{this.onLoad()},e.onerror=()=>{this.onError(e.responseText)}):e.onreadystatechange=()=>{4===e.readyState&&(200===e.status||1223===e.status?this.onLoad():setTimeout(()=>{this.onError("number"==typeof e.status?e.status:0)},0))},c("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(()=>{this.onError(t)},0)}"undefined"!=typeof document&&(this.index=p.requestsCount++,p.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(t){this.emit("data",t),this.onSuccess()}onError(t){this.emit("error",t),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete p.requests[this.index],this.xhr=null}}onLoad(){var t=this.xhr.responseText;null!==t&&this.onData(t)}hasXDR(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}function f(){for(var t in p.requests)p.requests.hasOwnProperty(t)&&p.requests[t].abort()}p.requestsCount=0,p.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",f):"function"==typeof addEventListener&&(a="onpagehide"in a?"pagehide":"unload",addEventListener(a,f,!1))),t.exports=l,t.exports.Request=p},d941:function(t,e){t.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},da92:function(t,e,r){const n=r("6a44");var o=r("7297");const s=r("34eb")("engine.io-client:socket"),i=r("2a85"),a=r("5317"),c=r("4f2a");class u extends o{constructor(t,e={}){super(),t&&"object"==typeof t&&(e=t,t=null),t?(t=a(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=a(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=c.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){s('creating transport "%s"',t);const e=function(t){const e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}(this.opts.query);e.EIO=i.protocol,e.transport=t,this.id&&(e.sid=this.id);var r=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return s("options: %j",r),new n[t](r)}open(){let t;if(this.opts.rememberUpgrade&&u.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void setTimeout(()=>{this.emit("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return s("error while creating transport: %s",t),this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){s("setting transport %s",t.name),this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),(this.transport=t).on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(t){s('probing transport "%s"',t);let e=this.createTransport(t,{probe:1}),r=!1;u.priorWebsocketSuccess=!1;const n=()=>{r||(s('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",n=>{if(!r)if("pong"===n.type&&"probe"===n.data)s('probe transport "%s" pong',t),this.upgrading=!0,this.emit("upgrading",e),e&&(u.priorWebsocketSuccess="websocket"===e.name,s('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{r||"closed"!==this.readyState&&(s("changing transport and sending upgrade packet"),l(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emit("upgrade",e),e=null,this.upgrading=!1,this.flush())}));else{s('probe transport "%s" failed',t);const r=new Error("probe error");r.transport=e.name,this.emit("upgradeError",r)}}))};function o(){r||(r=!0,l(),e.close(),e=null)}const i=r=>{const n=new Error("probe error: "+r);n.transport=e.name,o(),s('probe transport "%s" failed because of error: %s',t,r),this.emit("upgradeError",n)};function a(){i("transport closed")}function c(){i("socket closed")}function h(t){e&&t.name!==e.name&&(s('"%s" works - aborting "%s"',t.name,e.name),o())}const l=()=>{e.removeListener("open",n),e.removeListener("error",i),e.removeListener("close",a),this.removeListener("close",c),this.removeListener("upgrading",h)};e.once("open",n),e.once("error",i),e.once("close",a),this.once("close",c),this.once("upgrading",h),e.open()}onOpen(){if(s("socket open"),this.readyState="open",u.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){s("starting upgrade probes");let e=0;for(var t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("ping"),this.emit("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else s('packet received with socket readyState "%s"',this.readyState)}onHandshake(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(t,e,r){return this.sendPacket("message",t,e,r),this}send(t,e,r){return this.sendPacket("message",t,e,r),this}sendPacket(t,e,r,n){"function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState&&((r=r||{}).compress=!1!==r.compress,this.emit("packetCreate",r={type:t,data:e,options:r}),this.writeBuffer.push(r),n&&this.once("flush",n),this.flush())}close(){const t=()=>{this.onClose("forced close"),s("socket closing - telling transport to close"),this.transport.close()},e=()=>{this.removeListener("upgrade",e),this.removeListener("upgradeError",e),t()},r=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{(this.upgrading?r:t)()}):(this.upgrading?r:t)()),this}onError(t){s("socket error %j",t),u.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(s('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let r=0;for(var n=t.length;r<n;r++)~this.transports.indexOf(t[r])&&e.push(t[r]);return e}}u.priorWebsocketSuccess=!1,u.protocol=i.protocol,t.exports=u},dc90:function(t,e,r){t.exports=function(t){function e(t){let r,o=null;function s(...t){if(s.enabled){const i=s;var n=Number(new Date),o=n-(r||n);i.diff=o,i.prev=r,i.curr=n,r=n,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let a=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return"%";a++;const o=e.formatters[n];return"function"==typeof o&&(n=t[a],r=o.call(i,n),t.splice(a,1),a--),r}),e.formatArgs.call(i,t);const c=i.log||e.log;c.apply(i,t)}}return s.namespace=t,s.useColors=e.useColors(),s.color=e.selectColor(t),s.extend=n,s.destroy=e.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?e.enabled(t):o,set:t=>{o=t}}),"function"==typeof e.init&&e.init(s),s}function n(t,r){const n=e(this.namespace+(void 0===r?":":r)+t);return n.log=this.log,n}function o(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return((e.debug=e).default=e).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){var t=[...e.names.map(o),...e.skips.map(o).map(t=>"-"+t)].join(",");return e.enable(""),t},e.enable=function(t){let r;e.save(t),e.names=[],e.skips=[];const n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(t=n[r].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let r,n;for(r=0,n=e.skips.length;r<n;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;r<n;r++)if(e.names[r].test(t))return!0;return!1},e.humanize=r("1468"),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(r=>{e[r]=t[r]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return e.colors[Math.abs(r)%e.colors.length]},e.enable(e.load()),e}},e13a:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StrictEventEmitter=void 0;class n extends(r("7297")){on(t,e){return super.on(t,e),this}once(t,e){return super.once(t,e),this}emit(t,...e){return super.emit(t,...e),this}emitReserved(t,...e){return super.emit(t,...e),this}listeners(t){return super.listeners(t)}}e.StrictEventEmitter=n},e3db:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}}}]);