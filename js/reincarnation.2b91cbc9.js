(window.webpackJsonp=window.webpackJsonp||[]).push([["reincarnation"],{"0d1e":function(t,e,a){"use strict";a.r(e);var o=a("8bbf");a("cb29");var n=Object(o.defineComponent)({name:"DangerSpot",setup:function(){var t=Object(o.ref)(null),e=!0,a=!1,n=[],r=[],i=null,l=[],d=[],c=0;function f(t,e,a){var o;i&&(i.beginPath(),i.arc(15+30*t,15+30*e,13,0,2*Math.PI),i.closePath(),o=null===i||void 0===i?void 0:i.createRadialGradient(15+30*t+2,15+30*e-2,13,15+30*t+2,15+30*e-2,0),a?(o.addColorStop(0,"#0A0A0A"),o.addColorStop(1,"#636766"),n[t][e]=1):(o.addColorStop(0,"#D1D1D1"),o.addColorStop(1,"#F9F9F9"),n[t][e]=2),i.fillStyle=o,i.fill())}function u(){var e;if(i=null===(e=t.value)||void 0===e?void 0:e.getContext("2d")){for(var a=0;a<15;a++){n[a]=[],r[a]=[];for(var o=0;o<15;o++)n[a][o]=0,r[a][o]=[]}for(var f=0;f<15;f++)for(var u=0;u<11;u++){for(var s=0;s<5;s++)r[f][u+s][c]=!0;c++}for(var v=0;v<15;v++)for(var h=0;h<11;h++){for(var b=0;b<5;b++)r[h+b][v][c]=!0;c++}for(var g=0;g<11;g++)for(var p=0;p<11;p++){for(var w=0;w<5;w++)r[g+w][p+w][c]=!0;c++}for(var O=0;O<11;O++)for(var j=4;j<15;j++){for(var y=0;y<5;y++)r[O+y][j-y][c]=!0;c++}for(var C=0;C<c;C++)l[C]=0,d[C]=0;i.clearRect(0,0,t.value.width,t.value.height),function(){if(i){i.strokeStyle="#ccc";for(var t=0;t<15;t++)i.moveTo(15+30*t,15),i.lineTo(15+30*t,435),i.stroke(),i.moveTo(15,15+30*t),i.lineTo(435,15+30*t),i.stroke()}}()}}return Object(o.onMounted)((function(){u()})),{canvas:t,bandleClick:function(t){if(!a&&e){var o=Math.floor(t.offsetX/30),i=Math.floor(t.offsetY/30);if(0==n[o][i]){f(o,i,e);for(var u=0;u<c;u++)r[o][i][u]&&(l[u]++,d[u]=6,5==l[u]&&(console.log("你赢了"),a=!0));a||(e=!e,function(){for(var t=[],o=[],i=0,u=0,s=0,v=0;v<15;v++){t[v]=[],o[v]=[];for(var h=0;h<15;h++)t[v][h]=0,o[v][h]=0}for(var b=0;b<15;b++)for(var g=0;g<15;g++)if(0==n[b][g]){for(var p=0;p<c;p++)r[b][g][p]&&(1==l[p]?t[b][g]+=200:2==l[p]?t[b][g]+=400:3==l[p]?t[b][g]+=2e3:4==l[p]&&(t[b][g]+=1e4),1==d[p]?o[b][g]+=220:2==d[p]?o[b][g]+=420:3==d[p]?o[b][g]+=2100:4==d[p]&&(o[b][g]+=2e4));t[b][g]>i?(i=t[b][g],u=b,s=g):t[b][g]==i&&o[b][g]>o[u][s]&&(u=b,s=g),o[b][g]>i?(i=o[b][g],u=b,s=g):o[b][g]==i&&t[b][g]>t[u][s]&&(u=b,s=g)}f(u,s,!1);for(var w=0;w<c;w++)r[u][s][w]&&(d[w]++,l[w]=6,5==d[w]&&(console.log("计算机赢了--"),a=!0));a||(e=!e)}())}}},init:u}}}),r=a("6b0d");r=a.n(r);e.default=r()(n,[["render",function(t,e,a,n,r,i){var l=Object(o.resolveComponent)("el-main");return Object(o.openBlock)(),Object(o.createBlock)(l,null,{default:Object(o.withCtx)((function(){return[Object(o.createVNode)("canvas",{width:"450",height:"450",ref:"canvas",style:{display:"block",margin:"0 auto"},onClick:e[1]||(e[1]=function(e){return t.bandleClick(e)})},null,512)]})),_:1})}]])},"81d5":function(t,e,a){"use strict";var o=a("7b0b"),n=a("23cb"),r=a("50c4");t.exports=function(t){for(var e=o(this),a=r(e.length),i=arguments.length,l=n(1<i?arguments[1]:void 0,a),d=(i=2<i?arguments[2]:void 0,void 0===i?a:n(i,a));l<d;)e[l++]=t;return e}},"8d20":function(t,e,a){},a15b:function(t,e,a){"use strict";var o=a("23e7"),n=a("44ad"),r=a("fc6a"),i=(a=a("a640"),[].join);n=n!=Object,a=a("join",",");o({target:"Array",proto:!0,forced:n||!a},{join:function(t){return i.call(r(this),void 0===t?",":t)}})},cb29:function(t,e,a){var o=a("23e7"),n=a("81d5");a=a("44d2");o({target:"Array",proto:!0},{fill:n}),a("fill")},cc5e:function(t,e,a){"use strict";a("8d20")},dde2:function(t,e,a){"use strict";a.r(e);var o=a("8bbf"),n=Object(o.withScopeId)("data-v-df4f4b3c");Object(o.pushScopeId)("data-v-df4f4b3c");var r=Object(o.createVNode)("div",{class:"container"},[Object(o.createVNode)("div",{id:"wheel-of-fate"})],-1),i=Object(o.createTextVNode)(" Start ");Object(o.popScopeId)();var l=n((function(t,e,a,l,d,c){var f=Object(o.resolveComponent)("el-button"),u=Object(o.resolveComponent)("el-main");return Object(o.openBlock)(),Object(o.createBlock)(u,{class:"reincarnation"},{default:n((function(){return[r,Object(o.createVNode)("h1",null,Object(o.toDisplayString)(t.result),1),Object(o.createVNode)(f,{onClick:t.handleStart},{default:n((function(){return[i]})),_:1},8,["onClick"])]})),_:1})})),d=(a("a15b"),a("ac1f"),a("1276"),a("159b"),a("92b3")),c=a.n(d),f=Object(o.defineComponent)({name:"Reincarnation",setup:function(){var t,e,a,n,r,i,l=Object(o.ref)(""),d=["天道","人道","修罗道","地狱道","饿鬼道","畜生道"],f=20,u=0,s=[],v=2*Math.PI/6,h=!1,b=.2,g=!1;function p(t){var o=f*t.timeDiff*(1-b)/1e3;f-=o,o=a.getIntersection({x:a.width()/2,y:100}),h?(10<s.length&&s.shift(),s.push(1e3*(n.rotation()-u)/t.timeDiff)):1e-4<(t=t.timeDiff*f/1e3)?n.rotate(t):g||h||(o&&(t=o.getParent().findOne("Text").text().split("\n").join(""),null!==i&&void 0!==i&&i.stop(),l.value=t,console.log("------------*------------"+t)),g=!0),u=n.rotation(),o&&(e&&o._id===e._id||(r.y(20),new c.a.Tween({node:r,duration:.3,y:30,easing:c.a.Easings.ElasticEaseOut}).play(),null!==e&&void 0!==e&&e.fillPriority("radial-gradient"),o.fillPriority("fill"),e=o))}function w(){a=new c.a.Stage({container:"wheel-of-fate",width:400,height:400});var e=new c.a.Layer;n=new c.a.Group({x:a.width()/2,y:a.height()/2}),d.forEach((function(t,e){var o=new c.a.Group({rotation:2*e*Math.PI/6});e=new c.a.Wedge({radius:200,angle:v,fillRadialGradientStartPoint:{x:0,y:0},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:200,fillRadialGradientColorStops:[0,"#f4f6f2",1,"#5f68f6"],fill:"#64e9f8",fillPriority:"radial-gradient",stroke:"#ccc",strokeWidth:2});o.add(e),t=new c.a.Text({text:t,fontFamily:"Calibri",fontSize:30,fill:"white",align:"center",stroke:"yellow",strokeWidth:1,rotation:(Math.PI+v)/2,x:a.width()/8*3,y:a.width()/8,listening:!1}),o.add(t),o.id("".concat(o.rotation())),n.add(o)})),r=new c.a.Wedge({fillRadialGradientStartPoint:{x:0,y:0},fillRadialGradientStartRadius:0,fillRadialGradientEndPoint:{x:0,y:0},fillRadialGradientEndRadius:30,fillRadialGradientColorStops:[0,"white",1,"red"],stroke:"white",strokeWidth:2,lineJoin:"round",angle:1,radius:30,x:a.width()/2,y:30,rotation:-90,shadowColor:"black",shadowOffsetX:3,shadowOffsetY:3,shadowBlur:2,shadowOpacity:.5}),e.add(n),e.add(r),a.add(e),n.on("mousedown touchstart",(function(e){h=!(f=0),t=e.target,g=!1})),a.addEventListener("mousemove touchmove",(function(){var e,o=a.getPointerPosition();h&&o&&t&&(e=o.x-n.x(),o=o.y-n.y(),o=Math.atan(o/e),e=0<=e?o:o+Math.PI,o=t.getParent(),n.rotation(e-parseFloat(o.id())-t.angle()/2))})),a.addEventListener("mouseup touchend",(function(){h=!1,20<(f=5*(0===s.length?0:s.reduce((function(t,e){return t+e}),0)/s.length))?f=20:f<-20&&(f=-20),s.forEach((function(){s.shift()}))})),i=new c.a.Animation(p,e)}return c.a.angleDeg=!1,Object(o.onMounted)((function(){w()})),{handleStart:function(){for(var t=5;t;){var e=Math.floor(Math.random()*t--),o=[d[t],d[e]];d[e]=o[0],d[t]=o[1]}g=!1,f=15,l.value="",a.getChildren()[0].getChildren()[0].getChildren().forEach((function(t,e){t.getChildren()[1].text(d[e])})),console.log(a),null!==i&&void 0!==i&&i.start()},result:l}}});a("cc5e"),d=a("6b0d"),d=a.n(d);e.default=d()(f,[["render",l],["__scopeId","data-v-df4f4b3c"]])}}]);